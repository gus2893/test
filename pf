import { InfiniteLoader, FixedSizeList as List } from 'react-window';

<InfiniteLoader
  isItemLoaded={i => i < options.length}
  itemCount={totalCount}            // total items on the server
  loadMoreItems={() => setPage(p => p + 1)}
>
  {({ onItemsRendered, ref }) => (
    <List
      height={200}
      width="100%"
      itemCount={options.length + 1}  // +1 for the loader row
      itemSize={30}
      onItemsRendered={onItemsRendered}
      ref={ref}
    >
      {({ index, style }) => {
        if (index >= options.length) {
          return <div style={style}>Loading…</div>;
        }
        const val = options[index];
        // …render checkbox…
      }}
    </List>
  )}
</InfiniteLoader>
